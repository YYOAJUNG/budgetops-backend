name: AWS RDS 최적화
csp: AWS
service: RDS
rules:
  - id: db_rightsizing
    title: 데이터베이스 크기 최적화
    description: 사용률이 낮은 데이터베이스 인스턴스를 더 작은 인스턴스 타입으로 다운사이징합니다.
    conditions:
      - metric: cpu_utilization
        threshold: 40
        period: 7d
      - metric: memory_utilization
        threshold: 50
        period: 7d
      - metric: connection_count
        threshold: 50
        period: 7d
    recommendation: "CPU, 메모리, 연결 수가 모두 낮은 데이터베이스는 한 단계 작은 인스턴스 타입으로 변경을 고려하세요."
    cost_saving: "월 약 30-50% 비용 절감 가능"
    
  - id: reserved_instances_db
    title: Reserved Instances 전환
    description: 장기간 실행되는 데이터베이스는 Reserved Instances로 전환합니다.
    conditions:
      - metric: uptime
        threshold: 365d
    recommendation: "1년 이상 지속적으로 실행되는 데이터베이스는 Reserved Instances로 전환하여 최대 60% 할인을 받으세요."
    cost_saving: "월 약 40-60% 비용 절감 가능"
    
  - id: storage_optimization
    title: 스토리지 최적화
    description: 사용하지 않는 스토리지를 정리하고 자동 스케일링을 설정합니다.
    conditions:
      - metric: storage_used_percent
        threshold: 50
      - metric: storage_growth_rate
        threshold: 10
        period: 30d
    recommendation: "스토리지 사용률이 50% 미만이고 성장률이 낮은 경우, 스토리지 크기를 줄이거나 자동 스케일링을 비활성화하세요."
    cost_saving: "월 약 20-30% 스토리지 비용 절감"

